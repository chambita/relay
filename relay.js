var relay=function(g){function k(a,c){if(1!=c.nodeType)throw c;c._relayAppId||(c._relayAppId=++l,h[l]=a,a.relayBaseNode=c)}function i(a){"string"==typeof a&&(a=g.document.getElementById(a));return h[a._relayAppId]}function e(a,c,b){c=n.call(arguments,1);b=c.pop();if(!b||b==g)throw m;b.nodeType||(b=b.relayBaseNode||b.preventDefault&&b.target||b.srcElement||b);if(!b.nodeType)throw m;var f,d;if(typeof a==j)for(;b;){if(b._relayAppId&&(d=i(b)))return a.apply(d,c)||d;b=b.parentNode}else{for(;b;){if(b._relayAppId&& (d=i(b))&&d[a])if(f=d[a].apply(d,c),f!=e.BUBBLE)return f||d;b=b.parentNode}return f}}var h={},l=1,j="function",m="invalid 'this'",n=Array.prototype.slice;e.unload=function(){h={}};e.start=e.initTree=function(a){if(!a||!a.nodeType)a=g.document.body||g.document.documentElement;var c,b=0,f=a.getElementsByTagName("INS"),a="INS"==a.nodeName?a:f[b++],d=e.loadObject;do if(!a._relayAppId&&"js:"==(c=a.cite).substr(0,3))c=c.substr(3),d(c,a);while(a=f[b++])};e.loadObject=function(a,c){var b,f=g,d=a;if(b=f[d])f= b;else{b=0;for(d=d.split(".");d[b]&&(f=f[d[b++]]););}f&&e.initAndHookObject(f,a,c)};e.initAndHookObject=function(a,c,b){if(typeof a==j)a=new a(c,b);else if(typeof a.getInstance==j&&(a=a.getInstance(c,b),!a))throw c;k(a,b)};e.hookObjectToNode=k;e.unhookObject=function(a){var a=a.relayBaseNode||a,c=a._relayAppId;h[c].relayBaseNode=a._relayAppId=null;delete h[c]};e.byId=e.getObjectFromNode=i;e.BUBBLE={};return e}(this);