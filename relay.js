var relay=function(g){function k(b){"string"==typeof b&&(b=g.document.getElementById(b));return h[b._relayAppId]}function e(b,c,a){c=o.call(arguments,1);a=c.pop();if(!a||a==g)throw m;a.nodeType||(a=a.relayBaseNode||a.preventDefault&&a.target||a.srcElement||a);if(!a.nodeType)throw m;var f,d;if(typeof b==i)for(;a;){if(a._relayAppId&&(d=k(a)))return b.apply(d,c)||d;a=a.parentNode}else{try{for(;a;){if(a._relayAppId&&(d=k(a))&&d[b])if(f=d[b].apply(d,c),f!=e.BUBBLE)return f||d;a=a.parentNode}}catch(j){e(p, j,b,a,a)}return f}}var h={},n=1,i="function",m="invalid 'this'",p="onRelayError",o=Array.prototype.slice;e.hookObjectToNode=function(b,c){if(1!=c.nodeType)throw c;c._relayAppId||(c._relayAppId=++n,h[n]=b,b.relayBaseNode=c)};e.unhookObject=function(b){var b=b.relayBaseNode||b,c=b._relayAppId;h[c].relayBaseNode=b._relayAppId=null;delete h[c]};e.start=e.initTree=function(b){if(!b||!b.nodeType)b=g.document.body||g.document.documentElement;var c,a=0,f=b.getElementsByTagName("INS"),d="INS"==b.nodeName? b:f[a++],j=e.loadObject;do if(!d._relayAppId&&"js:"==(c=d.cite).substr(0,3))c=c.substr(3),"relay."==c.substr(0,6)?"relay.ignore"==c&&(a+=d.getElementsByTagName("INS").length):j(c,d);while(d=f[a++]);return k(b)};e.loadObject=function(b,c){var a,f=g,d=b;if(a=f[d])f=a;else{a=0;for(d=d.split(".");d[a]&&(f=f[d[a++]]););}f&&e.initAndHookObject(f,b,c)};e.initAndHookObject=function(b,c,a){if(typeof b==i)b=new b(c,a);else if(typeof b.getInstance==i&&(b=b.getInstance(c,a),!b))throw c;e.hookObjectToNode(b,a)}; e.unload=function(){h={}};e.forward=function(b,c,a){c=o.call(arguments,1);a=c.pop();if(!a||a==g)throw m;a.nodeType||(a=a.relayBaseNode||a.preventDefault&&a.target||a.srcElement||a);if(!a.nodeType)throw m;for(var f,d,j,h=a,l=0,i=a.getElementsByTagName("INS");a;)try{for(;a=i[l];)a._relayAppId&&((f=k(a))&&(d=f.subscribe)&&d[b])&&d[b].apply(f,c),i[l]==a&&l++}catch(n){j=n,i[l]==a&&l++}j&&e(p,j,b,h,h)};e.byId=e.getObjectFromNode=k;e.BUBBLE={};return e}(this); relay.handler=function(g){g=g||event;relay("on"+g.type,g,g.target||g.srcElement)};