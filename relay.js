var relay=function(g){function k(b){"string"==typeof b&&(b=g.document.getElementById(b));return h[b._relayAppId]}function e(b,c,a){c=q.call(arguments,1);a=c.pop();if(!a||a==g)throw m;a.nodeType||(a=a.relayBaseNode||a.preventDefault&&a.target||a.srcElement||a);if(!a.nodeType)throw m;var f,d,s=a;if(typeof b==j)for(;a;){if(a._relayAppId&&(d=k(a)))return b.apply(d,c)||d;a=a.parentNode}else{try{for(;a;){if(a._relayAppId&&(d=k(a))&&d[b])if(f=d[b].apply(d,c),f!=e.BUBBLE)return f||d;a=a.parentNode}if(f!=e.BUBBLE&&e.strict)throw"relay.strict=1";}catch(h){e(r,h,b,a,c,s)}return f}}var h={},n=1,j="function",m="invalid 'this'",r="onRelayError",q=Array.prototype.slice;e.hookObjectToNode=function(b,c){if(1!=c.nodeType)throw c;c._relayAppId||(c._relayAppId=++n,h[n]=b,b.relayBaseNode=c)};e.unhookObject=function(b){b=b.relayBaseNode||b;var c=b._relayAppId;h[c].relayBaseNode=b._relayAppId=null;delete h[c]};e.start=e.initTree=function(b){if(!b||!b.nodeType)b=g.document.body||g.document.documentElement;var c,a=0,f=b.getElementsByTagName("INS"),d="INS"==b.nodeName?b:f[a++],h=e.loadObject;do if(!d._relayAppId&&"js:"==(c=d.cite).substr(0,3))c=c.substr(3),"relay."==c.substr(0,6)?"relay.ignore"==c&&(a+=d.getElementsByTagName("INS").length):h(c,d);while(d=f[a++]);return k(b)};e.loadObject=function(b,c){var a,f=g,d=b;if(a=f[d])f=a;else{a=0;for(d=d.split(".");d[a]&&(f=f[d[a++]]););}f&&e.initAndHookObject(f,b,c)};e.initAndHookObject=function(b,c,a){if(typeof b==j)b=new b(c,a);else if(typeof b.getInstance==j&&(b=b.getInstance(c,a),!b))throw c;e.hookObjectToNode(b,a)};e.unload=function(){h={}};e.forward=function(b,c,a){c=q.call(arguments,1);a=c.pop();if(!a||a==g)throw m;a.nodeType||(a=a.relayBaseNode||a.preventDefault&&a.target||a.srcElement||a);if(!a.nodeType)throw m;for(var f,d,h,j=a,l=0,p=a.getElementsByTagName("INS");a;)try{for(;a=p[l];)a._relayAppId&&((f=k(a))&&(d=f.subscribe)&&d[b])&&d[b].apply(f,c),p[l]==a&&l++}catch(n){h=n,p[l]==a&&l++}h&&e(r,h,b,j,j)};e.byId=e.getObjectFromNode=k;e.BUBBLE={};return e}(this); relay.handler=function(g){g=g||event;relay("on"+g.type,g,g.target||g.srcElement)};