var relay=function(f){function k(b){var c,a=f;if(c=a[b])return c;c=0;for(b=b.split(".");b[c]&&(a=a[b[c++]]););return a}function l(b,c){if(1!=c.nodeType)throw c;c._relayAppId||(c._relayAppId=++m,g[m]=b,b.relayBaseNode=c)}function i(b){"string"==typeof b&&(b=f.document.getElementById(b));return g[b._relayAppId]}function o(b,c){d(b,c,this)}function d(b,c,a){c=p.call(arguments,1);a=c.pop();if(!a||a==f)throw n;a.nodeType||(a=a.relayBaseNode||a.preventDefault&&a.target||a.srcElement||a);if(!a.nodeType)throw n; var h,e;if(typeof b==j)for(;a;){if(a._relayAppId&&(e=i(a)))return b.apply(e,c)||e;a=a.parentNode}else{for(;a;){if(a._relayAppId&&(e=i(a))&&e[b])if(h=e[b].apply(e,c),h!=d.BUBBLE)return h||e;a=a.parentNode}return h}}var g={},m=1,j="function",n="invalid 'this'",p=Array.prototype.slice;d.unload=function(){g={}};d.start=d.initTree=function(b){if(!b||!b.nodeType)b=f.document.body||f.document.documentElement;for(var c,a,d=b.getElementsByTagName("INS"),e=0;b=d[e];e++)if(!b._relayAppId&&"js:"==(c=b.cite).substr(0, 3)){c=c.substr(3);a=k(c);if(typeof a==j)a=new a(c,b);else if(typeof a.getInstance==j&&(a=a.getInstance(c,b),!a))throw c;l(a,b);a.relay||(a.relay=o)}};d.findNestedObject=k;d.hookObjectToNode=l;d.unhookObject=function(b){var b=b.relayBaseNode||b,c=b._relayAppId;g[c].relayBaseNode=b._relayAppId=null;delete g[c]};d.byId=d.getObjectFromNode=i;d.BUBBLE={};return d}(this);